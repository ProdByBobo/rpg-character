<!doctype html>
<html lang="en">
<head>
  <base href="/">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="Description" content="Demonstration for rpg-character">
  <title>rpg-character</title>

  <style>
    :root, html, body {
      margin: 0;
      padding: 0;
    }
    #demo {
      margin: var(--ddd-spacing-2);
    }
    rpg-character {
      margin: var(--ddd-spacing-2);
      border: var(--ddd-border-md);
      border-radius: var(--ddd-radius-lg);
    }
    .character-wrapper {
      display: inline-block;
      text-align: center;
      margin: var(--ddd-spacing-2);
    }
    .character-wrapper a {
      display: block;
      margin-top: var(--ddd-spacing-1);
      text-decoration: none;
      color: inherit;
    }
  </style>
</head>
<body>
  <button id="fetch-contributors">Fetch Contributors</button>

  <div id="character-container">
    <rpg-character seed="btopro"></rpg-character>
    <rpg-character seed="anothername"></rpg-character>
    <rpg-character seed="yertasd298fu28j82"></rpg-character>
    <rpg-character seed="ff2232"></rpg-character>
    <rpg-character seed="885322"></rpg-character>
    <rpg-character seed="827390"></rpg-character>
    <rpg-character seed="yertasd298fu28j82" hat="construction"></rpg-character>
  </div>

  <script type="module" src="https://cdn.hax.cloud/cdn/build/es6/node_modules/@haxtheweb/rpg-character/rpg-character.js"></script>
  <script>
    document.getElementById('fetch-contributors').addEventListener('click', async () => {
      try {
        const response = await fetch('https://api.github.com/repos/haxtheweb/webcomponents/contributors');
        if (!response.ok) {
          throw new Error('Network response was not ok');
        }
        const contributors = await response.json();
        const characterContainer = document.getElementById('character-container');
        characterContainer.innerHTML = ''; // Clear existing characters
        contributors.forEach(contributor => {
          const characterWrapper = document.createElement('div');
          characterWrapper.className = 'character-wrapper';

          const newCharacter = document.createElement('rpg-character');
          newCharacter.setAttribute('seed', contributor.login);

          const usernameLink = document.createElement('a');
          usernameLink.href = contributor.html_url;
          usernameLink.target = '_blank';
          usernameLink.textContent = contributor.login;

          characterWrapper.appendChild(newCharacter);
          characterWrapper.appendChild(usernameLink);
          characterContainer.appendChild(characterWrapper);
        });
      } catch (error) {
        console.error('Error fetching contributors:', error);
      }
    });
  </script>
</body>
</html>